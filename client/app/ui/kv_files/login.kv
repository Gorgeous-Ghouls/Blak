#:import Colors app.utils.Colors
#:import Bugs app.ui.extras.Bugs

<LoginField@MDTextField>:
    helper_text_mode: "on_focus"
    text_color_normal: Colors.text_dark
    text_color_focus: Colors.text_medium
    hint_text_color_normal: Colors.text
    hint_text_color_focus: Colors.accent_bg_text
    line_color_focus: Colors.text_dark

<LoginScreen>:
    size_hint: 1,1
    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True
        size_hint_x: None
        width: "400dp"
        padding: "20dp", 0, "20dp", "10dp"
        pos_hint: {'center_x': 0.5,'center_y': 0.5}
        spacing: "10dp"
        radius: 10
        md_bg_color: Colors.accent_bg
        line_color: Colors.accent_bg

        LoginField:
            id: username
            color_mode: 'custom'
            line_color_normal:"#FFFFFF"
            line_color_focus: "#FFFFFF"
            hint_text: "Username"
            required: True
        LoginField:
            id: password
            color_mode: 'custom'
            line_color_normal:"#FFFFFF"
            line_color_focus: "#FFFFFF"
            hint_text: "Password"
            password: True
            required: True
        MDLabel:
            id: login_helper_text
            text: app.login_helper_text
            font_size: "12dp"
            valign: 'center'
            color: [1,0,0,1]
        MDGridLayout:
            id: button_container
            adaptive_size: True
            spacing: 5
            pos_hint: {'center_x': 0.5,'center_y': 0.5}
            rows: 1
            MDRectangleFlatButton:
                text: "[color=#FFFFFF]Login[/color]"
                disabled: app.login_data_sent
                md_bg_color: Colors.button_bg
                line_color: Colors.button_bg
                radius: [24, ]
                on_release: app.do_login(username.text, password.text)
            MDRectangleFlatButton:
                id: register_button
                text: "[color=#FFFFFF]Register[/color]"
                md_bg_color: Colors.button_bg
                line_color: Colors.button_bg
                disabled: app.login_data_sent
                on_release: app.do_login(username.text, password.text, True)

    MDFlatButton:
        adaptive_width:True
        pos_hint: {'right': 1, 'bottom': 1}
        text: "Feature"
        md_bg_color: Colors.accent_bg
        theme_text_color: "Custom"
        text_color: Colors.text_medium
        on_release: Bugs().add_bug(root)
