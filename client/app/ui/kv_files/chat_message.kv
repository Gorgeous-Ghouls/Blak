#:kivy 2.1.0

#:import Colors app.utils.Colors
#:import get_color_from_hex kivy.utils.get_color_from_hex
<ChatMessagesScreen>:
    name: 'chat' # name should be equal to custom-id of the other user
    MDGridLayout:
        cols:1
        height: self.minimum_height
        ScrollView:
            MDList:
                id: chat_list
                spacing: "30dp"
                OneLineListItem:   # uncomment for testing ðŸ˜€
                    text: "Single-line"
        MDGridLayout:
            #:set padding "10dp"  # you can set variable in kvlang
            padding: padding, 0, padding, padding
            adaptive_height: True
            rows: 1
            MDTextField:
                id : chat_input

                helper_text: 'Enter your message'
                helper_text_mode: "persistent"
                hint_text_font: 'Inria Sans'
                radius: [10, 10, 0, 0 ]
                fill_color: Colors.get_kivy_color("accent_bg")
                multiline: False

                text_color_normal: Colors.get_kivy_color("text_dark")
                text_color_focus: Colors.get_kivy_color("text_medium")
                hint_text_color_normal: Colors.get_kivy_color("primary_bg")
                hint_text_color_focus: Colors.get_kivy_color("accent_bg_text")
                line_color_focus: Colors.get_kivy_color("text_dark")
                on_text_validate: root.send_message(chat_input.text)

            MDIconButton:
                icon: "send"
                theme_icon_color: "Custom"
                icon_color: Colors.get_kivy_color("text_dark")
                on_release: root.send_message(chat_input.text)
